<!--
 * @Description: 
 * @author: kelly
 * @Date: 2023-11-26 23:04:34
 * @LastEditTime: 2023-11-26 23:17:20
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script type="text/javascript">
    // 1.创建一个新的Promise
    const p = new Promise((resolve, reject) => {
      // 2.执行异步操作任务
      setTimeout(() => {
        // 假设当前时间为偶数是成功，奇数为失败
        const time = Date.now();
        //3.1 如果成功的话，调用resolve(value)
        if (time % 2 == 0) {
          resolve('成功的数据， time=' + time)
        } else {
          // 3.2 如果失败的话。调用reject(reason)
          reject('失败的数据，time=' + time)
        }
      }, 1000)
    })

    p.then(
      value => {// 接收得到成功的value数据  onSolved
        console.log('成功的回调', value)
      },
      reason => {// 接收得到失败的reason数据 onRejected
        console.log('失败的回调', reason)
      }
    )
  </script>

</body>

</html>